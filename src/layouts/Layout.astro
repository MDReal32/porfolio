---
import "../styles/global.css";
import Nav from "../components/Nav.astro";
import { ClientRouter } from "astro:transitions";
---

<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width" />
    <title>Portfolio | Veys Aliyev</title>

    <ClientRouter />

    <script is:inline>
      const saved = localStorage.getItem("theme"); // "emerald" | "dim" | "system" | null
      if (saved && saved !== "system") {
        document.documentElement.setAttribute("data-theme", saved);
      } else {
        // system mode: ensure no override exists so daisyUI can use --default/--prefersdark
        document.documentElement.removeAttribute("data-theme");
      }
    </script>
  </head>
  <body class="bg-base-100 text-base-content min-h-screen antialiased">
    <Nav />

    <slot />
  </body>
</html>
